---
import type { NebulaVariant } from '../../types';

interface Props {
    variant?: NebulaVariant;
}

const { variant = 'default' } = Astro.props;
---

{variant !== 'none' && (
<div class="fixed inset-0 z-0 pointer-events-none select-none overflow-hidden will-change-transform">
    {/* Global Noise Texture (Always present) */}
    <div class="absolute inset-0 z-[1] opacity-[0.15] mix-blend-overlay pointer-events-none bg-noise"></div>

    {variant === 'default' && (
        <>
            <div class="absolute top-[-10%] left-[-10%] w-[40%] h-[40%] rounded-full bg-primary/10 blur-[120px] animate-[pulse_8s_ease-in-out_infinite]"></div>
            <div class="absolute bottom-[-10%] right-[-10%] w-[30%] h-[30%] rounded-full bg-accent/10 blur-[100px] animate-[pulse_8s_ease-in-out_infinite] delay-1000"></div>
            <!-- Extra ambient glow for pages -->
            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full bg-gradient-to-b from-main/0 via-main/50 to-main pointer-events-none"></div>
        </>
    )}

    {variant === 'galaxy' && (
        <>
            <div class="absolute inset-0 bg-gradient-to-b from-[#0f172a] via-[#1e293b]/50 to-transparent opacity-80"></div>
            <div class="absolute bottom-0 right-1/4 w-96 h-96 bg-primary/20 rounded-full blur-[128px] animate-[pulse_8s_ease-in-out_infinite]"></div>
            <div class="absolute md:top-1/4 -left-12 w-64 h-64 bg-accent/20 rounded-full blur-[100px] animate-[pulse_8s_ease-in-out_infinite] delay-500"></div>
        </>
    )}

    {variant === 'guestbook' && (
        <>
            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-primary/10 rounded-full blur-[150px] animate-[pulse_8s_ease-in-out_infinite]"></div>
            <div class="absolute top-0 right-0 w-[500px] h-[500px] bg-accent/5 rounded-full blur-[120px] opacity-50"></div>
        </>
    )}

    {variant === 'matrix' && (
        <>
             <div class="absolute top-0 right-1/4 w-96 h-96 bg-primary/20 rounded-full blur-[128px] animate-[pulse_8s_ease-in-out_infinite]"></div>
             <div class="absolute bottom-0 left-1/4 w-96 h-96 bg-accent/10 rounded-full blur-[128px] animate-[pulse_8s_ease-in-out_infinite] delay-1000"></div>
        </>
    )}
</div>
)}
