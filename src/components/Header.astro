---
import { SITE_CONFIG, NAV_ITEMS } from "../config";
import { Image } from "astro:assets";
import MobileMenu from "./MobileMenu";
---

<header
    class="fixed top-0 w-full z-50 transition-all duration-300 backdrop-blur-md border-b border-white/5 bg-main/50"
>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
            <!-- Logo -->
            <div class="flex-shrink-0">
                <a href="/" class="group flex items-center gap-3">
                    <div class="relative w-10 h-10">
                        <!-- Avatar (Visible by default, hidden on group-hover) -->
                        <div
                            class="absolute inset-0 rounded-lg overflow-hidden border border-white/10 shadow-lg shadow-primary/20 transition-all duration-300 group-hover:scale-90 group-hover:opacity-0"
                        >
                            <Image
                                src={SITE_CONFIG.avatar}
                                alt="Avatar"
                                class="w-full h-full object-cover"
                                width={32}
                                height={32}
                                loading="eager"
                                fetchpriority="high"
                            />
                        </div>
                        <!-- Home Icon (Hidden by default, visible on group-hover) -->
                        <div
                            class="absolute inset-0 flex items-center justify-center rounded-lg bg-white/10 border border-white/20 opacity-0 scale-90 transition-all duration-300 group-hover:opacity-100 group-hover:scale-100"
                        >
                            <svg
                                class="w-4 h-4 text-accent"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke="currentColor"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"
                                ></path>
                            </svg>
                        </div>
                    </div>

                    <div class="flex flex-col">
                        <span
                            class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-white/70 group-hover:to-accent transition-colors"
                        >
                            {SITE_CONFIG.title}
                        </span>
                    </div>
                </a>
            </div>

            <!-- Desktop Navigation -->
            <nav class="hidden md:flex space-x-8">
                {
                    NAV_ITEMS.map((item) => (
                        <a
                            href={item.path}
                            class="relative text-sm font-medium text-text-secondary hover:text-white transition-colors py-2 group"
                        >
                            {item.name}
                            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-accent transition-all duration-300 group-hover:w-full" />
                        </a>
                    ))
                }
            </nav>

            <!-- Mobile Menu -->
            <MobileMenu client:media="(max-width: 768px)" />
        </div>
    </div>
</header>
<!-- Spacer for fixed header -->
<div class="h-16"></div>
